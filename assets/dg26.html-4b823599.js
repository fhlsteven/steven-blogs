import{_ as n,o as a,c as s,a as t}from"./app-f0851ed3.js";const p={},o=t(`<h1 id="如何设置在windows窗体中的datagrid的标题-并确定每一列队应的字段" tabindex="-1"><a class="header-anchor" href="#如何设置在windows窗体中的datagrid的标题-并确定每一列队应的字段" aria-hidden="true">#</a> 如何设置在windows窗体中的datagrid的标题，并确定每一列队应的字段</h1><div class="language-txt" data-ext="txt"><pre class="language-txt"><code>主　　题：  如何设置在windows窗体中的datagrid的标题，并确定每一列队应的字段？
作　　者：  huang_sir (山)
等　　级：  ^
信 誉 值：  100
所属论坛：  .NET技术 C#
问题点数：  20
回复次数：  15
发表时间：  2003-12-1 17:08:08
</code></pre></div><p>说明一下不是在web窗体中的控件，windows窗体中的datagrid没有columns属性,不知道如何设置，请教</p><hr><hr><p>回复人： huang_sir(山) ( 一级(初级)) 信誉：100 2003-12-1 17:17:45 得分:0</p><blockquote><p>online</p></blockquote><p>回复人： citymeteor(流星) ( 三级(初级)) 信誉：99 2003-12-1 17:22:17 得分:0</p><blockquote><p>datagrid.tablestyles属性</p></blockquote><p>回复人： brightheroes(闭关) ( 一星(中级)) 信誉：100 2003-12-1 17:27:08 得分:0</p><blockquote></blockquote><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">setDataGridTableStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">System<span class="token punctuation">.</span>Windows<span class="token punctuation">.</span>Forms<span class="token punctuation">.</span>DataGridTableStyle</span> dts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DataGridTableStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dts<span class="token punctuation">.</span>AllowSorting <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    dts<span class="token punctuation">.</span>MappingName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>TableName<span class="token punctuation">;</span>
    dts<span class="token punctuation">.</span>RowHeadersVisible <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token class-name">DataGridTextBoxColumn</span> dtc<span class="token punctuation">;</span>

    dtc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DataGridTextBoxColumn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>Format <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>MappingName <span class="token operator">=</span> <span class="token string">&quot;ID&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>HeaderText <span class="token operator">=</span> <span class="token string">&quot;ID&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>NullText <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>Width <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    dts<span class="token punctuation">.</span>GridColumnStyles<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>dtc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    dtc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DataGridTextBoxColumn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>Format <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>MappingName <span class="token operator">=</span> <span class="token string">&quot;Name&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>HeaderText <span class="token operator">=</span> <span class="token string">&quot;名称&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>NullText <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>Width <span class="token operator">=</span> <span class="token number">125</span><span class="token punctuation">;</span>
    dts<span class="token punctuation">.</span>GridColumnStyles<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>dtc<span class="token punctuation">)</span><span class="token punctuation">;</span>

    dtc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DataGridTextBoxColumn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>Format <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>MappingName <span class="token operator">=</span> <span class="token string">&quot;master&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>HeaderText <span class="token operator">=</span> <span class="token string">&quot;负责人&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>NullText <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>Width <span class="token operator">=</span> <span class="token number">125</span><span class="token punctuation">;</span>
    dts<span class="token punctuation">.</span>GridColumnStyles<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>dtc<span class="token punctuation">)</span><span class="token punctuation">;</span>

    dtc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DataGridTextBoxColumn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>Format <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>MappingName <span class="token operator">=</span> <span class="token string">&quot;description&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>HeaderText <span class="token operator">=</span> <span class="token string">&quot;描述&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>NullText <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    dtc<span class="token punctuation">.</span>Width <span class="token operator">=</span> <span class="token number">180</span><span class="token punctuation">;</span>
    dts<span class="token punctuation">.</span>GridColumnStyles<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>dtc<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>dgMain<span class="token punctuation">.</span>TableStyles<span class="token punctuation">.</span><span class="token function">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dgMain<span class="token punctuation">.</span>TableStyles<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>dts<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>回复人： brightheroes(闭关) ( 一星(中级)) 信誉：100 2003-12-1 17:27:53 得分:0</p><blockquote><p>dt是你的DataTable</p></blockquote><p>回复人： huang_sir(山) ( 一级(初级)) 信誉：100 2003-12-1 17:29:42 得分:0</p><blockquote><p>可否详细说一下</p></blockquote><p>回复人： huang_sir(山) ( 一级(初级)) 信誉：100 2003-12-1 17:37:57 得分:0</p><blockquote><p>在设计界面下看不到阿</p></blockquote><p>回复人： huang_sir(山) ( 一级(初级)) 信誉：100 2003-12-1 17:57:54 得分:0</p><blockquote><p>请求答复</p></blockquote><p>回复人： liusuccess(减肥成功) ( 二级(初级)) 信誉：95 2003-12-1 18:05:35 得分:0</p><blockquote></blockquote><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code>style<span class="token operator">=</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">DataGridTableStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
style<span class="token punctuation">.</span>MappingName<span class="token operator">=</span><span class="token string">&quot;Customers&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">DataGridTextBoxColumn</span> col<span class="token operator">=</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">DataGridTextBoxColumn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    col<span class="token punctuation">.</span>MappingName<span class="token operator">=</span>ds<span class="token punctuation">.</span>Tables<span class="token punctuation">[</span><span class="token string">&quot;Customers&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Columns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//你可以把下面这句代码改成=&quot;客户名称&quot;之类的中文标题</span>
    col<span class="token punctuation">.</span>HeaderText<span class="token operator">=</span>ds<span class="token punctuation">.</span>Tables<span class="token punctuation">[</span><span class="token string">&quot;Customers&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Columns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    style<span class="token punctuation">.</span>GridColumnStyles<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
dataGrid1<span class="token punctuation">.</span>TableStyles<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>回复人： wildhope(沐秋) ( 一级(初级)) 信誉：100 2003-12-1 19:44:51 得分:0</p><blockquote><p>正好我也在寻求这个问题的答案，刚才参看了一下brightheroes(闭关) 的代码，又摸索着使用DataGridStyle集合编辑器（在DataGrid属性窗口中点击TableStyles集合按钮可得）试着在设计阶段为DataGrid设置列标题，取得了部分成功，在这里我就现学现卖根大家讨论一下。首先如果DataGrid的DataSource设置为DataSet的时候，可以点击[DataGridStyle集合编辑器]中的添加按钮添加dts(DataGridTableStyles),在其MappingName属性下拉框中选择相应的要绑定的数据表myDataTable.然后点击dts的GridColumnStyles集合按钮进入[GridColumnStyles集合编辑器]，添加按钮小黑箭头可向GridColumnStyles集合中选择添加dtc(DataGridTextBoxColumn),然后在dtc的属性窗口中修改MappingName和HeaderText即可。<br><br> 不过我也有没解决的问题，如果DataSource是DataTable的时候，就不会设置了。我试验着按上面的方法设置好DataGrid后，将DataGrid的DataSource属性修改成相对应的DataTable 结果是可行的，可是比如原先设置的DataGrid的自动套用格式就无法使用了。我手头的资料不多，我觉得DataGrid应该有个设置当前表的dts的属性，不知道对不对，大家继续探讨一下。</p></blockquote><p>回复人： wildhope(沐秋) ( 一级(初级)) 信誉：100 2003-12-2 9:10:12 得分:0</p><blockquote><p>我知道了，数据源为DataTable的DataGrid等效为数据源为DataSet 而DataMember为对应的同一个表的设置。所以设置只显示单个DataTable也用DataSet作数剧源，这样在设计阶段的设置就都统一到数据源为DataSet的这种情况。<br><br> 我还有个问题，如何才能设置列标题字体居中，我找不到，请高手给指点一下</p></blockquote><p>回复人： huang_sir(山) ( 一级(初级)) 信誉：100 2003-12-2 9:10:55 得分:0</p><blockquote><p>继续阿</p></blockquote><p>回复人： wildhope(沐秋) ( 一级(初级)) 信誉：100 2003-12-03 09:12:00 得分:0</p><blockquote><p>ding</p></blockquote><p>回复人： brightheroes(闭关) ( 一星(中级)) 信誉：100 2003-12-03 09:31:00 得分:0</p><blockquote><p>居中如下<br><code>dgtbc.Alignment = System.Windows.Forms.HorizontalAlignment.Center;</code></p></blockquote><p>回复人： brightheroes(闭关) ( 一星(中级)) 信誉：100 2003-12-03 09:49:00 得分:0</p><blockquote><p><code>dtc.Alignment = System.Windows.Forms.HorizontalAlignment.Center;</code></p></blockquote><p>回复人： wildhope(沐秋) ( 一级(初级)) 信誉：100 2003-12-03 09:56:00 得分:0</p><blockquote><p>谢谢两位，但是你们所说的是列值在DataGrid中居中，我是想问如何让标题（比如姓名、年龄等）居中。</p></blockquote>`,37),c=[o];function e(u,l){return a(),s("div",null,c)}const k=n(p,[["render",e],["__file","dg26.html.vue"]]);export{k as default};
