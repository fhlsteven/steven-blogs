import{_ as p,r,o as c,c as n,b as e,d as o,e as a,a as s}from"./app-d9da1b6d.js";const l="/steven-blogs/assets/win9_1-0e9acdc1.png",_={},i={id:"vs-net的那个智能提示",tabindex:"-1"},u=e("a",{class:"header-anchor",href:"#vs-net的那个智能提示","aria-hidden":"true"},"#",-1),d={href:"http://www.cnblogs.com/sumtec/archive/2004/07/18/25259.aspx",target:"_blank",rel:"noopener noreferrer"},b=s('<p>我想大家用VS.NET的时候一定对那个智能提示印象深刻，如果你仔细看看，你就会发现那个智能提示的下拉框实际上是在整个VS.NET IDE的外面的。比如说，如果你把VS.NET IDE变成不是最大/小化的时候，在编辑区的最下方调出只能提示下拉框，并且在屏幕下方留有足够的空间，你就会发现那个下拉框竟然申到VS.NET IDE的外面了！</p><p>第一印象你一定会觉得那个是一个FormBorderStyle为None的一个Form上面放了一个ListBox所实现的效果，可是如果你自己来试一下，就会发现有一个大问题： 就是当你选中ListBox上面的内容的时候，主窗口就会失去焦点，标题就会灰化！感觉很不爽吧！</p><p>你可以尝试SetTopLevel、Owner、Parent……结果都不行吧！呵呵，不要说上面那几个公开的东西了，甚至我用Reflection手动设置state，并且使得Owner和Parent同时指向主窗口，都无济于事（主窗口甚至变成无效的）。</p><p>然后大概你会想到，菜单好像也可以延伸到所属窗口的外边，可是很不幸的是，至少我没有找到可以把一个控件放到菜单上面的方法。我甚至考虑过自己去OwnerDraw，但是有一点让我放弃了： 如果你在VS.NET IDE探出智能提示下拉框的时候，移动主窗口，就会发现那个下拉框也会跟着移动。可是菜单，对不起，点击非菜单部分就会使菜单消失，跟不要说去移动它了。</p><p>最后，千辛万苦（也就半天时间），终于给我搞定了，看图：</p><p><img src="'+l+'" alt="win9_1"></p><p>哈哈！我要卖关子喽，怎么做的现在先不说，回复的人多了我再说（其实是现在还不是做得很通用，我想做的通用了再发布出来）。呵呵！</p><p>不过我可以透露一点点：实际上确实是用FormBorderStyle为None的Form来实现的，不过需要主窗口截获一个WM_NCACTIVATE消息，进行一定的处理，就能够得到这个效果了。</p><p>（不知道有没有人注意到左边的ListBox显示的是什么呢？还要卖一个关子……）</p><blockquote><p>posted on 2004-07-18 11:18 Sumtec 评论(6)</p></blockquote><hr><hr><p>2004-07-18 13:30 kwklover</p><blockquote><p>夷~~~<br> 好，我第一个up</p></blockquote><p>2004-07-18 13:32 utna</p><blockquote><p>good, 感兴趣</p></blockquote><p>2004-07-18 13:58 dudu</p><blockquote><p>还不快把代码交出来！</p></blockquote><p>2004-07-18 17:00 aa</p><blockquote><p>up</p></blockquote><p>2004-07-18 18:12 hBifTs</p><blockquote><p>hoho,WM_NCACTIVATE .得到焦点<br> 再创建相应的Form 😃</p></blockquote><p>2004-07-18 21:29 caca</p><blockquote><p>很感兴趣：）</p></blockquote>',24);function k(h,m){const t=r("ExternalLinkIcon");return c(),n("div",null,[e("h1",i,[u,o(),e("a",d,[o("VS.NET的那个智能提示"),a(t)])]),b])}const q=p(_,[["render",k],["__file","win9.html.vue"]]);export{q as default};
