import{_ as n,o as s,c as a,a as t}from"./app-f0851ed3.js";const p={},o=t(`<h1 id="怎样有选择地获取某个目录下的某些类型文件" tabindex="-1"><a class="header-anchor" href="#怎样有选择地获取某个目录下的某些类型文件" aria-hidden="true">#</a> 怎样有选择地获取某个目录下的某些类型文件</h1><div class="language-txt" data-ext="txt"><pre class="language-txt"><code>主　　题：  怎样有选择地获取某个目录下的某些类型文件？
作　　者：  qiuji (忆秋季)
等　　级：  ^^^^^
信 誉 值：  99
所属论坛：  .NET技术 C#
问题点数：  50
回复次数：  14
发表时间：  2003-9-14 10:54:32
</code></pre></div><p>我用</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name">DirectoryInfo</span> dir<span class="token operator">=</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">DirectoryInfo</span><span class="token punctuation">(</span><span class="token string">&quot;C:\\\\&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FileInfo <span class="token punctuation">[</span><span class="token punctuation">]</span></span> strfile<span class="token operator">=</span>dir<span class="token punctuation">.</span><span class="token function">GetFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>获取了该目录下的所有文件。</p><p>请问：怎么获取该目录下的多种类型的文件（不只一种类型）,例如<code>*.mp3</code>,<code>*.avi</code>,<code>*.asf</code>?</p><hr><hr><p>回复人： net_lover(孟子E章) ( 五星(高级)) 信誉：115 2003-9-14 11:01:51 得分:0</p><blockquote><p>Filter 属性</p></blockquote><p>回复人： freecs(红茗) ( 五级(中级)) 信誉：100 2003-9-14 11:03:09 得分:3</p><blockquote><p>那你就用 后缀(例如mp3) 来判断，<br> 截取最后一个 .后的字符串</p></blockquote><p>回复人： net_lover(孟子E章) ( 五星(高级)) 信誉：115 2003-9-14 11:05:50 得分:0</p><blockquote><p>sorry看错了</p></blockquote><p>回复人： qiuji(忆秋季) ( 五级(中级)) 信誉：99 2003-9-14 11:06:52 得分:0</p><blockquote><p>获取一种类型我会，但是我要获取多种类型，怎么办？</p></blockquote><p>回复人： chinchy(人民需要人民币) ( 两星(中级)) 信誉：140 2003-9-14 11:13:59 得分:0</p><blockquote><p>多次调用GetFiles,每次取一样不就行了,没别的办法</p></blockquote><p>回复人： net_lover(孟子E章) ( 五星(高级)) 信誉：115 2003-9-14 11:16:50 得分:8</p><blockquote></blockquote><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name">DirectoryInfo</span> di <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DirectoryInfo</span><span class="token punctuation">(</span><span class="token string">&quot;c:\\\\&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FileInfo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> fiArr <span class="token operator">=</span> di<span class="token punctuation">.</span><span class="token function">GetFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">FileInfo</span> fri <span class="token keyword">in</span> fiArr<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//过虑：</span>
    <span class="token comment">//if(扩展名字是mp3或者avi等)</span>
    label1<span class="token punctuation">.</span>Text<span class="token operator">+=</span><span class="token punctuation">(</span>fri<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>回复人： cgmx(风凌沙扬) ( 四级(中级)) 信誉：98 2003-9-14 11:24:35 得分:6</p><blockquote></blockquote><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name">DirectoryInfo</span> di <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DirectoryInfo</span><span class="token punctuation">(</span><span class="token string">&quot;c:\\\\&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FileInfo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> fiArr <span class="token operator">=</span> di<span class="token punctuation">.</span><span class="token function">GetFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">FileInfo</span> fri <span class="token keyword">in</span> fiArr<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//过虑：</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>fri<span class="token punctuation">.</span>Extension <span class="token operator">==</span> <span class="token string">&quot;.mp3&quot;</span> <span class="token operator">||</span> fri<span class="token punctuation">.</span>Extension <span class="token operator">==</span> <span class="token string">&quot;.avi&quot;</span><span class="token punctuation">)</span>
        label1<span class="token punctuation">.</span>Text<span class="token operator">+=</span><span class="token punctuation">(</span>fri<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>回复人： qiuji(忆秋季) ( 五级(中级)) 信誉：99 2003-9-14 11:42:26 得分:0</p><blockquote><p>获取某一种类型可以这样：<br><code>FileInfo [] strfile=dir.GetFiles(&quot;*.mp3&quot;);</code><br><br> 能不能在此处获取多种类型？<br><br> 我的原来的代码如下：</p></blockquote><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name">DirectoryInfo</span> dir<span class="token operator">=</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">DirectoryInfo</span><span class="token punctuation">(</span><span class="token string">&quot;C:\\\\&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FileInfo <span class="token punctuation">[</span><span class="token punctuation">]</span></span> strfile<span class="token operator">=</span>dir<span class="token punctuation">.</span><span class="token function">GetFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">int</span></span> i<span class="token operator">=</span>strfile<span class="token punctuation">.</span>Length<span class="token punctuation">;</span>
<span class="token class-name">Random</span> ro<span class="token operator">=</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token keyword">unchecked</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Ticks<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">int</span></span> re<span class="token operator">=</span>ro<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>因为我要随机选取文件。</p></blockquote><p>回复人： qiuji(忆秋季) ( 五级(中级)) 信誉：99 2003-9-14 12:41:06 得分:0</p><blockquote><p>up</p></blockquote><p>回复人： ArLi2003(阿利 路过.NET) ( 两星(中级)) 信誉：100 2003-9-14 13:05:42 得分:8</p><blockquote><p><code>dir.GetFiles(&quot;*.mp3&quot;);</code> 这样的用法就可以<br><br> 但不能指定多个，不过允许使用通配符，比如 <code>dir.GetFiles(&quot;*.mp?&quot;);</code><br><br> 然后你可以根据<br><br><code>strfile[i].Extension</code> 来确定</p></blockquote><p>回复人： chinchy(人民需要人民币) ( 两星(中级)) 信誉：140 2003-9-14 13:30:59 得分:25</p><blockquote></blockquote><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name">System<span class="token punctuation">.</span>IO<span class="token punctuation">.</span>DirectoryInfo</span> dirInfo<span class="token operator">=</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">System<span class="token punctuation">.</span>IO<span class="token punctuation">.</span>DirectoryInfo</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\\\&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Object<span class="token punctuation">[</span><span class="token punctuation">]</span></span> oFileInfo<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">GetFileInfo</span><span class="token punctuation">(</span>dirInfo<span class="token punctuation">,</span><span class="token string">&quot;*.mp3|*.pdf|*.rar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>oFileInfo<span class="token punctuation">.</span>Length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    System<span class="token punctuation">.</span>Console<span class="token punctuation">.</span>Out<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>IO<span class="token punctuation">.</span>FileInfo<span class="token punctuation">)</span>oFileInfo<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token keyword">public</span> <span class="token return-type class-name">Object<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">GetFileInfo</span><span class="token punctuation">(</span><span class="token class-name">System<span class="token punctuation">.</span>IO<span class="token punctuation">.</span>DirectoryInfo</span> dirInfo<span class="token punctuation">,</span><span class="token class-name"><span class="token keyword">string</span></span> sSearchPattern<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> sSearch<span class="token operator">=</span>sSearchPattern<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token char">&#39;|&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>ArrayList</span> al<span class="token operator">=</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System<span class="token punctuation">.</span>IO<span class="token punctuation">.</span>FileInfo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> fiTemp<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>sSearch<span class="token punctuation">.</span>Length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        fiTemp<span class="token operator">=</span>dirInfo<span class="token punctuation">.</span><span class="token function">GetFiles</span><span class="token punctuation">(</span>sSearch<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        al<span class="token punctuation">.</span><span class="token function">AddRange</span><span class="token punctuation">(</span>fiTemp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> al<span class="token punctuation">.</span><span class="token function">ToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>回复人： qiuji(忆秋季) ( 五级(中级)) 信誉：99 2003-9-14 13:52:43 得分:0</p><blockquote><p>to chinchy(人民需要人民币) ：<br><br><code>((System.IO.FileInfo)oFileInfo[i]).Name</code><br> 出现错误：“object”并不包含对“Name”的定义</p></blockquote><p>回复人： qiuji(忆秋季) ( 五级(中级)) 信誉：99 2003-9-14 13:55:17 得分:0</p><blockquote><p>to chinchy(人民需要人民币) ：<br> 不好意思，我写错了。<br><br><code>((System.IO.FileInfo)oFileInfo[i]).Name</code><br> 我写成了<code>(System.IO.FileInfo)oFileInfo[i].Name</code></p></blockquote><p>回复人： qiuji(忆秋季) ( 五级(中级)) 信誉：99 2003-9-14 14:02:03 得分:0</p><blockquote><p>谢谢！已经搞定！<br> 不过，<br><code>((System.IO.FileInfo)oFileInfo[i]).Name</code><br> 应该为<code>((System.IO.FileInfo)oFileInfo[i]).FullName</code><br><br> 要不然文件路径显示为当前程序的路径。</p></blockquote><p>该问题已经结贴 ，得分记录： freecs (3)、 net_lover (8)、 cgmx (6)、 ArLi2003 (8)、 chinchy (25)、</p>`,42),c=[o];function e(l,u){return s(),a("div",null,c)}const k=n(p,[["render",e],["__file","folder17.html.vue"]]);export{k as default};
