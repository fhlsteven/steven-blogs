import{_ as n,o as s,c as a,a as t}from"./app-a2b6e588.js";const p="data:image/png;base64,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",o={},c=t('<h1 id="创建带图标的listboox" tabindex="-1"><a class="header-anchor" href="#创建带图标的listboox" aria-hidden="true">#</a> 创建带图标的ListBoox</h1><blockquote><p>作者： 孟宪会 出自： 【孟宪会之精彩世界】 发布日期： 2003-7-25 17:28:53</p></blockquote><p>下面的代码实现了带图标的ListBoox的功能，可以直接拷贝即可运行。运行结果如下：</p><p><img src="'+p+`" alt="listbox1_1"></p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Drawing</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>ComponentModel</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Windows<span class="token punctuation">.</span>Forms</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Data</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">ListBoxWithIcon</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span></span>
    <span class="token doc-comment comment">/// Form1 的摘要说明。</span>
    <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span></span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Form1</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">System<span class="token punctuation">.</span>Windows<span class="token punctuation">.</span>Forms<span class="token punctuation">.</span>Form</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">GListBox</span> lb<span class="token punctuation">;</span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// 必需的设计器变量。</span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token keyword">private</span> <span class="token class-name">System<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">.</span>Container</span> components <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">Form1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//</span>
            <span class="token comment">// Windows 窗体设计器支持所必需的</span>
            <span class="token comment">//</span>
            <span class="token function">InitializeComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//</span>
            <span class="token comment">// TODO: 在 InitializeComponent 调用后添加任何构造函数代码</span>
            <span class="token comment">//</span>
        <span class="token punctuation">}</span>

        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// 清理所有正在使用的资源。</span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">bool</span></span> disposing<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>disposing<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>components <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    components<span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span>disposing<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token preprocessor property">#<span class="token directive keyword">region</span> Windows 窗体设计器生成的代码</span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// 设计器支持所需的方法 - 不要使用代码编辑器修改</span>
        <span class="token doc-comment comment">/// 此方法的内容。</span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">InitializeComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">ImageList</span> imageList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ImageList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            imageList<span class="token punctuation">.</span>Images<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>Image<span class="token punctuation">.</span><span class="token function">FromFile</span><span class="token punctuation">(</span><span class="token string">@&quot;D:\\我的文件\\myrice\\favicon.ico&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            imageList<span class="token punctuation">.</span>Images<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>Image<span class="token punctuation">.</span><span class="token function">FromFile</span><span class="token punctuation">(</span><span class="token string">@&quot;D:\\我的文件\\myrice\\favicon4.ico&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            imageList<span class="token punctuation">.</span>Images<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>Image<span class="token punctuation">.</span><span class="token function">FromFile</span><span class="token punctuation">(</span><span class="token string">@&quot;D:\\我的文件\\myrice\\favicon5.ico&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span>lb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GListBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">SuspendLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//</span>
            <span class="token comment">// lb</span>
            <span class="token comment">//</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>lb<span class="token punctuation">.</span>ItemHeight <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>lb<span class="token punctuation">.</span>Location <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">System<span class="token punctuation">.</span>Drawing<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>lb<span class="token punctuation">.</span>Name <span class="token operator">=</span> <span class="token string">&quot;listBox1&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>lb<span class="token punctuation">.</span>Size <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">System<span class="token punctuation">.</span>Drawing<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>lb<span class="token punctuation">.</span>TabIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

            lb<span class="token punctuation">.</span>ImageList <span class="token operator">=</span> imageList<span class="token punctuation">;</span>
            lb<span class="token punctuation">.</span>Items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">GListBoxItem</span><span class="token punctuation">(</span><span class="token string">&quot;http://xml.sz.luohuedu.net/&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            lb<span class="token punctuation">.</span>Items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">GListBoxItem</span><span class="token punctuation">(</span><span class="token string">&quot;http://lucky.myrice.com/&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            lb<span class="token punctuation">.</span>Items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">GListBoxItem</span><span class="token punctuation">(</span><span class="token string">&quot;【孟宪会之精彩世界】&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//</span>
            <span class="token comment">// Form1</span>
            <span class="token comment">//</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>AutoScaleBaseSize <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">System<span class="token punctuation">.</span>Drawing<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>ClientSize <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">System<span class="token punctuation">.</span>Drawing<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">292</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>Controls<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>lb<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>Text <span class="token operator">=</span> <span class="token string">&quot;带图标的ListBox测试&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>Load <span class="token operator">+=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">System<span class="token punctuation">.</span>EventHandler</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Form1_Load<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ResumeLayout</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token preprocessor property">#<span class="token directive keyword">endregion</span></span>

        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token doc-comment comment">/// 应用程序的主入口点。</span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token punctuation">[</span>STAThread<span class="token punctuation">]</span>
        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Form1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Form1_Load</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> sender<span class="token punctuation">,</span> <span class="token class-name">System<span class="token punctuation">.</span>EventArgs</span> e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// GListBoxItem 类</span>
        <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GListBoxItem</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">string</span></span> _myText<span class="token punctuation">;</span>
            <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">int</span></span> _myImageIndex<span class="token punctuation">;</span>
            <span class="token comment">// 属性</span>
            <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Text
            <span class="token punctuation">{</span>
                <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _myText<span class="token punctuation">;</span> <span class="token punctuation">}</span>
                <span class="token keyword">set</span> <span class="token punctuation">{</span> _myText <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> ImageIndex
            <span class="token punctuation">{</span>
                <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _myImageIndex<span class="token punctuation">;</span> <span class="token punctuation">}</span>
                <span class="token keyword">set</span> <span class="token punctuation">{</span> _myImageIndex <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//构造函数</span>
            <span class="token keyword">public</span> <span class="token function">GListBoxItem</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> text<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> index<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                _myText <span class="token operator">=</span> text<span class="token punctuation">;</span>
                _myImageIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">public</span> <span class="token function">GListBoxItem</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> text<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
            <span class="token keyword">public</span> <span class="token function">GListBoxItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
            <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">return</span> _myText<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// GListBox 类</span>
        <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GListBox</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ListBox</span></span>
        <span class="token punctuation">{</span>
            <span class="token keyword">private</span> <span class="token class-name">ImageList</span> _myImageList<span class="token punctuation">;</span>
            <span class="token keyword">public</span> <span class="token return-type class-name">ImageList</span> ImageList
            <span class="token punctuation">{</span>
                <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _myImageList<span class="token punctuation">;</span> <span class="token punctuation">}</span>
                <span class="token keyword">set</span> <span class="token punctuation">{</span> _myImageList <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">public</span> <span class="token function">GListBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>DrawMode <span class="token operator">=</span> DrawMode<span class="token punctuation">.</span>OwnerDrawFixed<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDrawItem</span><span class="token punctuation">(</span><span class="token class-name">System<span class="token punctuation">.</span>Windows<span class="token punctuation">.</span>Forms<span class="token punctuation">.</span>DrawItemEventArgs</span> e<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">DrawBackground</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                e<span class="token punctuation">.</span><span class="token function">DrawFocusRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">GListBoxItem</span> item<span class="token punctuation">;</span>
                <span class="token class-name">Rectangle</span> bounds <span class="token operator">=</span> e<span class="token punctuation">.</span>Bounds<span class="token punctuation">;</span>
                <span class="token class-name">Size</span> imageSize <span class="token operator">=</span> _myImageList<span class="token punctuation">.</span>ImageSize<span class="token punctuation">;</span>
                <span class="token keyword">try</span>
                <span class="token punctuation">{</span>
                    item <span class="token operator">=</span> <span class="token punctuation">(</span>GListBoxItem<span class="token punctuation">)</span>Items<span class="token punctuation">[</span>e<span class="token punctuation">.</span>Index<span class="token punctuation">]</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>ImageIndex <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                        ImageList<span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>Graphics<span class="token punctuation">,</span> bounds<span class="token punctuation">.</span>Left<span class="token punctuation">,</span> bounds<span class="token punctuation">.</span>Top<span class="token punctuation">,</span> item<span class="token punctuation">.</span>ImageIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        e<span class="token punctuation">.</span>Graphics<span class="token punctuation">.</span><span class="token function">DrawString</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>Text<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Font<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SolidBrush</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ForeColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
                          bounds<span class="token punctuation">.</span>Left <span class="token operator">+</span> imageSize<span class="token punctuation">.</span>Width<span class="token punctuation">,</span> bounds<span class="token punctuation">.</span>Top<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">else</span>
                    <span class="token punctuation">{</span>
                        e<span class="token punctuation">.</span>Graphics<span class="token punctuation">.</span><span class="token function">DrawString</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>Text<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Font<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SolidBrush</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ForeColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
                          bounds<span class="token punctuation">.</span>Left<span class="token punctuation">,</span> bounds<span class="token punctuation">.</span>Top<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">catch</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>Index <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                        e<span class="token punctuation">.</span>Graphics<span class="token punctuation">.</span><span class="token function">DrawString</span><span class="token punctuation">(</span>Items<span class="token punctuation">[</span>e<span class="token punctuation">.</span>Index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>Font<span class="token punctuation">,</span>
                          <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SolidBrush</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ForeColor<span class="token punctuation">)</span><span class="token punctuation">,</span> bounds<span class="token punctuation">.</span>Left<span class="token punctuation">,</span> bounds<span class="token punctuation">.</span>Top<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">else</span>
                    <span class="token punctuation">{</span>
                        e<span class="token punctuation">.</span>Graphics<span class="token punctuation">.</span><span class="token function">DrawString</span><span class="token punctuation">(</span>Text<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Font<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SolidBrush</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ForeColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
                          bounds<span class="token punctuation">.</span>Left<span class="token punctuation">,</span> bounds<span class="token punctuation">.</span>Top<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnDrawItem</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>`,5),e=[c];function u(l,k){return s(),a("div",null,e)}const r=n(o,[["render",u],["__file","listbox1.html.vue"]]);export{r as default};
