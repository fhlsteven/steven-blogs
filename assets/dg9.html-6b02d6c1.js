import{_ as a,o as n,c as s,a as t}from"./app-f0851ed3.js";const o={},p=t(`<h1 id="两种方法修改datagrid的列名怎么都不行" tabindex="-1"><a class="header-anchor" href="#两种方法修改datagrid的列名怎么都不行" aria-hidden="true">#</a> 两种方法修改datagrid的列名怎么都不行？？？</h1><div class="language-txt" data-ext="txt"><pre class="language-txt"><code>主　　题：  两种方法修改datagrid的列名怎么都不行？？？
作　　者：  luoxiang2000 (腾空)
等　　级：  ^
信 誉 值：  100
所属论坛：  .NET技术 C#
问题点数：  50
回复次数：  11
发表时间：  2003-7-14 0:59:28
</code></pre></div><p>1、</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name">DataGridTableStyle</span> ts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DataGridTableStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ts<span class="token punctuation">.</span>MappingName <span class="token operator">=</span> <span class="token string">&quot;infboard&quot;</span><span class="token punctuation">;</span><span class="token comment">//要和datagrid的表名一样</span>
dataGrid1<span class="token punctuation">.</span>TableStyles<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>
ts<span class="token punctuation">.</span>GridColumnStyles<span class="token punctuation">[</span><span class="token string">&quot;topic&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>HeaderText<span class="token operator">=</span><span class="token string">&quot;标题&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>报错：未处理的&quot;System.NullReferenceException&quot;类型的异常出现在abc.exe中。<br> 其它信息：未将对象引用设置到对象的实例。</p><p>2、<br> 我修改了sqlDataAdapter1的selectd的commandtext语句，为 <code>select topic as 标题 from infboard</code><br> 也报错：未能启用约束。一行或多行中包含违反非空、唯一或外键约束的值。<br> 原因好像是因为topic是这个表的主键，那怎么办呢？</p><hr><hr><p>回复人： luoxiang2000(腾空) ( 一级(初级)) 信誉：100 2003-7-14 1:00:37 得分:0</p><blockquote><p>这种方法也不行：<br><code>DataGrid.Columns[0].ColumnName=&quot;姓名&quot;</code><br> 结果出错<br><br> “System.Windows.Forms.DataGrid”并不包含对“Column”的定义<br> 请问是怎么回事?</p></blockquote><p>回复人： lufly2000(凌绝顶) ( 四级(中级)) 信誉：99 2003-7-14 1:29:08 得分:20</p><blockquote><p>要创建<code>DataGridTextBoxColumn</code>和<code>DataGridTableStyle</code>，然后<code>datagridtablestyle.GridColumnStyles.Add(DataGridTextBoxColumn对象)</code><br> 最后<code>DataGrid1.TableStyles.Add(datagridtablestyle)</code><br><br> 这是vb.net中的代码，自己转换一下吧。。</p></blockquote><div class="language-vb" data-ext="vb"><pre class="language-vb"><code><span class="token keyword">Dim</span> objdatagridtablestyle <span class="token keyword">As</span> <span class="token keyword">New</span> DataGridTableStyle<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">Dim</span> objtextcol <span class="token keyword">As</span> <span class="token keyword">New</span> DataGridTextBoxColumn<span class="token punctuation">(</span><span class="token punctuation">)</span>
        objdatagridtablestyle<span class="token punctuation">.</span>AlternatingBackColor <span class="token operator">=</span> Color<span class="token punctuation">.</span>WhiteSmoke
        objdatagridtablestyle<span class="token punctuation">.</span>MappingName <span class="token operator">=</span> <span class="token string">&quot;qinggou&quot;</span>
        objtextcol<span class="token punctuation">.</span>MappingName <span class="token operator">=</span> <span class="token string">&quot;nno&quot;</span>
        objtextcol<span class="token punctuation">.</span>HeaderText <span class="token operator">=</span> <span class="token string">&quot;零件编号&quot;</span>
        objdatagridtablestyle<span class="token punctuation">.</span>GridColumnStyles<span class="token punctuation">.</span>Add<span class="token punctuation">(</span>objtextcol<span class="token punctuation">)</span>

        objtextcol <span class="token operator">=</span> <span class="token keyword">New</span> DataGridTextBoxColumn<span class="token punctuation">(</span><span class="token punctuation">)</span>
        objtextcol<span class="token punctuation">.</span>MappingName <span class="token operator">=</span> <span class="token string">&quot;na1&quot;</span>
        objtextcol<span class="token punctuation">.</span>HeaderText <span class="token operator">=</span> <span class="token string">&quot;零件名称&quot;</span>
        objdatagridtablestyle<span class="token punctuation">.</span>GridColumnStyles<span class="token punctuation">.</span>Add<span class="token punctuation">(</span>objtextcol<span class="token punctuation">)</span>
DataGrid1<span class="token punctuation">.</span>TableStyles<span class="token punctuation">.</span>Add<span class="token punctuation">(</span>objdatagridtablestyle<span class="token punctuation">)</span>
</code></pre></div><p>回复人： zjjszw(穿四條褲叉的蚊子) ( 四级(中级)) 信誉：100 2003-7-14 9:01:00 得分:10</p><blockquote><p>直接在DataGrid中修改啊<br></p></blockquote><div class="language-asp" data-ext="asp"><pre class="language-asp"><code>&lt;asp:DataGrid id=&quot;DataGrid&quot; runat=&quot;server&quot; Width=&quot;690px&quot; Height=&quot;100px&quot;&gt;
    &lt;Columns&gt;
        &lt;asp:BoundColumn HeaderText=&quot;姓名&quot; DataField=&quot;表的相關字段&quot;&gt;&lt;/asp:BoundColumn&gt;
    &lt;/Columns&gt;
&lt;/asp:DataGrid&gt;
</code></pre></div><p>回复人： szfly(szfly) ( 二级(初级)) 信誉：98 2003-7-14 9:03:58 得分:5</p><blockquote><p>要么在执行的SQL中直接写好列名：<code>select 要的列名=字段名　from 表名</code></p></blockquote><p>回复人： HenanBoy(想飞的更高) ( 二级(初级)) 信誉：100 2003-7-14 10:08:57 得分:8</p><blockquote><p>同意 <code>szfly(szfly)</code>，如果没有其它的意思就用Select语句了，<br> 如果有其他的用处 lufly2000(凌绝顶) 的方法也可以的，我以前用过的，不过比较犯</p></blockquote><p>回复人： orcale(突破菜鳥極限) ( 四级(中级)) 信誉：99 2003-7-14 11:06:11 得分:2</p><blockquote><p>用headertext屬性應該可以</p></blockquote><p>回复人： luoxiang2000(腾空) ( 一级(初级)) 信誉：100 2003-7-14 11:48:37 得分:0</p><blockquote><p>不好意思，我上面说了：<br><br> 我修改了sqlDataAdapter1的selectd的commandtext语句，为<br><code>select topic as 标题 from infboard</code><br> 也报错：未能启用约束。一行或多行中包含违反非空、唯一或外键约束的值。<br> 原因好像是因为topic是这个表的主键，那怎么办呢？</p></blockquote><p>回复人： 91bct(行人) ( 四级(中级)) 信誉：100 2003-7-14 11:53:06 得分:5</p><blockquote><p>1.直接在DataGrid的属性中修改;<br> 2.如果用SQL应该是：<br><code>select name 姓名,age 年龄 from myTable;</code></p></blockquote><p>回复人： luoxiang2000(腾空) ( 一级(初级)) 信誉：100 2003-7-14 12:22:13 得分:0</p><blockquote><p>DataGrid的属性中我没有找到能修改列名的项目？<br><br> 用sql根本就不行？？？报错：未能启用约束。一行或多行中包含违反非空、唯一或外键约束的值。</p></blockquote><p>回复人： luoxiang2000(腾空) ( 一级(初级)) 信誉：100 2003-7-14 15:19:11 得分:0</p><blockquote><p>我试了以下代码，也没有任何反映，也不报错：？？？<br></p></blockquote><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name">DataGridTableStyle</span> ts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DataGridTableStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">DataGridTextBoxColumn</span> tbc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DataGridTextBoxColumn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ts<span class="token punctuation">.</span>AlternatingBackColor<span class="token operator">=</span>Color<span class="token punctuation">.</span>WhiteSmoke<span class="token punctuation">;</span>
ts<span class="token punctuation">.</span>MappingName<span class="token operator">=</span><span class="token string">&quot;infboard&quot;</span><span class="token punctuation">;</span>
tbc<span class="token punctuation">.</span>MappingName<span class="token operator">=</span><span class="token string">&quot;topic&quot;</span><span class="token punctuation">;</span>
tbc<span class="token punctuation">.</span>HeaderText<span class="token operator">=</span><span class="token string">&quot;标题&quot;</span><span class="token punctuation">;</span>
ts<span class="token punctuation">.</span>GridColumnStyles<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>tbc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>dataGrid1<span class="token punctuation">.</span>TableStyles<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>回复人： luoxiang2000(腾空) ( 一级(初级)) 信誉：100 2003-7-20 13:03:10 得分:0</p><blockquote><p>?</p></blockquote><p>该问题已经结贴 ，得分记录： lufly2000 (20)、 zjjszw (10)、 szfly (5)、 HenanBoy (8)、 orcale (2)、 91bct (5)、</p>`,34),e=[p];function c(l,u){return n(),s("div",null,e)}const i=a(o,[["render",c],["__file","dg9.html.vue"]]);export{i as default};
