import{_ as o,r as p,o as c,c as i,b as n,d as a,e,a as t}from"./app-477de5b2.js";const r="data:image/gif;base64,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",l="data:image/gif;base64,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",u="/steven-blogs/assets/folder13_1-3cf9718c.png",d="/steven-blogs/assets/folder13_2-c4e33ea1.png",h="/steven-blogs/assets/folder13_3-1b63ad28.png",A="/steven-blogs/assets/folder13_4-24e805db.png",k="/steven-blogs/assets/folder13_5-8909415a.png",m="/steven-blogs/assets/folder13_6-d2ad3c0e.png",y={},f=t('<h1 id="monitoring-file-system-using-filesystemwatcher-class-part-2" tabindex="-1"><a class="header-anchor" href="#monitoring-file-system-using-filesystemwatcher-class-part-2" aria-hidden="true">#</a> Monitoring File System using FileSystemWatcher Class - Part 2</h1><table><thead><tr><th>Author</th><th>Date of Submission</th><th>User Level</th></tr></thead><tbody><tr><td>Mokhtar B.</td><td>11/26/2001</td><td>Intermediate</td></tr></tbody></table><p>Source Code: <a href="">FSWatcherDesMA.zip</a> 16.9 KB</p><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h2>',4),g={href:"http://www.c-sharpcorner.com/3/FSWatcherMB.asp",target:"_blank",rel:"noopener noreferrer"},w=t('<h2 id="application-overview" tabindex="-1"><a class="header-anchor" href="#application-overview" aria-hidden="true">#</a> Application Overview</h2><p>To show how FileSystemWatcher component tracks the specified directory, I have provided a simple example application, which shows status of your directory contents in the textbox whenever a change, is made. This application has six class files, all are inherited from the System.Windows.Forms class.</p><ul><li>Properties.cs - to set Directory Path which is going to be watched.</li><li>MonitorFS.cs - Main class file for watching changes to a specified directory. Also allows us to create and drop files &amp; directories.</li><li>CreateDir.cs - to create a new directory depending on security permissions.</li><li>CreateFile.cs - to create a new file depending on security permissions.</li><li>DeleteDir.cs - to delete a particular directory depending on security permissions.</li><li>DeleteFile.cs - to delete a particular file depending on security permissions.</li></ul><h2 id="user-interface" tabindex="-1"><a class="header-anchor" href="#user-interface" aria-hidden="true">#</a> User Interface</h2><h3 id="setting-path-for-filesystemwatcher-component" tabindex="-1"><a class="header-anchor" href="#setting-path-for-filesystemwatcher-component" aria-hidden="true">#</a> Setting Path for FileSystemWatcher Component</h3><p>One very important task is to set the directory path, which is going to be watched. This can be done through the startup form. The following screenshots shows you how to do this:</p><p><img src="'+r+'" alt="img_13_gif"></p><p><img src="'+l+`" alt="img_13_gif2"></p><p>You can set the path in two ways either in standard direction notation (&quot;<code>d:\\</code>&quot;) or in Universal Naming Convention (UNC) format (&quot;<code>\\\\192.168.1.6\\d\\</code>&quot; or &quot;<code>\\\\mokhtar\\d\\</code>&quot;).</p><p>To check whether the given path is valid or not, I am using here Exists method of Directory class. As Directory Class is static one no need to instantiated it.</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code>Private <span class="token class-name"><span class="token keyword">string</span></span> dirPath <span class="token operator">=</span> txtPath<span class="token punctuation">.</span>Text<span class="token punctuation">;</span>
<span class="token operator">--</span>
<span class="token operator">--</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>Directory<span class="token punctuation">.</span><span class="token function">Exists</span><span class="token punctuation">(</span>dirPath<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">-</span>
<span class="token operator">-</span>
<span class="token operator">-</span>
</code></pre></div><p>If directory exists, then the directory path will be set to myPath property, which will be used later while instantiating FileSystemWatcher Class.</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">string</span></span> mPath<span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token operator">-</span>
<span class="token operator">-</span> <span class="token operator">-</span>
<span class="token operator">-</span> <span class="token operator">-</span>
<span class="token comment">//property for path</span>
<span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> myPath
<span class="token punctuation">{</span>
    <span class="token keyword">get</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mPath<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">set</span>
    <span class="token punctuation">{</span>
        mPath <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">-</span> <span class="token operator">-</span>
<span class="token operator">-</span> <span class="token operator">-</span>
<span class="token operator">-</span> <span class="token operator">-</span>
<span class="token keyword">protected</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">btnSetPath_Click</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> Sender<span class="token punctuation">,</span> <span class="token class-name">EventArgs</span> e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token operator">--</span><span class="token operator">-</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>myPath <span class="token operator">=</span> dirPath<span class="token punctuation">;</span>
    <span class="token operator">--</span><span class="token operator">-</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="monitoring-file-system" tabindex="-1"><a class="header-anchor" href="#monitoring-file-system" aria-hidden="true">#</a> Monitoring File System</h3><p>To monitor FileSystem, first we have instantiate the FileSystemWatcher Class, then we have to set necessary properties. To instantitate and set the properties of the class use the following code:</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MonitorFS</span><span class="token punctuation">:</span><span class="token type-list"><span class="token class-name">Form</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">FileSystemWatcher</span> myWatcher<span class="token punctuation">;</span>
    <span class="token operator">--</span><span class="token operator">-</span>
    <span class="token operator">--</span><span class="token operator">-</span>
    <span class="token keyword">public</span> <span class="token function">MonitorFS</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> myPath<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//Initializing directory path from properties.cs file</span>
        DirPath <span class="token operator">=</span> myPath<span class="token punctuation">;</span>
        <span class="token operator">--</span>
        <span class="token operator">--</span><span class="token operator">-</span>
        myWatcher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemWatcher</span><span class="token punctuation">(</span>DirPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        myWatcher<span class="token punctuation">.</span>EnableRaisingEvents <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        myWatcher<span class="token punctuation">.</span>IncludeSubdirectories <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token operator">--</span>
        <span class="token operator">--</span><span class="token operator">-</span>
        <span class="token operator">--</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Next, we have to create event handlers of types FileSystemEventHandler for Created, Changed and Deleted Events and RenamedEventHandler for Renamed Events. These event handlers will in turn call the appropriate procedure when an entry is written to the log.</p><p>Event Handlers of Type FileSystemEventHandler</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code>myWatcher<span class="token punctuation">.</span>Created <span class="token operator">+=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemEventHandler</span><span class="token punctuation">(</span>myWatcher_Created<span class="token punctuation">)</span><span class="token punctuation">;</span>
myWatcher<span class="token punctuation">.</span>Changed <span class="token operator">+=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemEventHandler</span><span class="token punctuation">(</span>myWatcher_Changed<span class="token punctuation">)</span><span class="token punctuation">;</span>
myWatcher<span class="token punctuation">.</span>Deleted <span class="token operator">+=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemEventHandler</span><span class="token punctuation">(</span>myWatcher_Deleted<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Event Handler of Type RenamedEventHandler</p><p><code>myWatcher.Renamed += new RenamedEventHandler(myWatcher_Renamed);</code></p><p>Procedure for Created Event</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">protected</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">myWatcher_Created</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> sender<span class="token punctuation">,</span> <span class="token class-name">FileSystemEventArgs</span> e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    txtInfo<span class="token punctuation">.</span>Text <span class="token operator">+=</span> <span class="token string">&quot;ChangeType :: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>ChangeType<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\nFullPath ::&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>FullPath<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\n\\n&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Procedure for Changed Event</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">protected</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">myWatcher_Changed</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> sender<span class="token punctuation">,</span> <span class="token class-name">FileSystemEventArgs</span> e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    txtInfo<span class="token punctuation">.</span>Text <span class="token operator">+=</span> <span class="token string">&quot;ChangeType :: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>ChangeType<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\nFullPath ::&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>FullPath<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\n\\n&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Procedure for Deleted Event</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">protected</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">myWatcher_Deleted</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> sender<span class="token punctuation">,</span> <span class="token class-name">FileSystemEventArgs</span> e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    txtInfo<span class="token punctuation">.</span>Text <span class="token operator">+=</span> <span class="token string">&quot;ChangeType :: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>ChangeType<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\nFullPath ::&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>FullPath<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\n\\n&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>All the above three events have common argument i.e., the <code>FileSystemEventArgs</code> that provides the following properties.</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td>ChangeType</td><td>Gets the type of directory event that occurred.</td></tr><tr><td>FullPath</td><td>Gets the fully-qualified path of the affected file or directory</td></tr><tr><td>Name</td><td>Gets the name of the affected file or directory.</td></tr></tbody></table><p>Procedure for Renamed Event</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">protected</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">myWatcher_Renamed</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> sender<span class="token punctuation">,</span> <span class="token class-name">RenamedEventArgs</span> e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    txtInfo<span class="token punctuation">.</span>Text <span class="token operator">+=</span> <span class="token string">&quot;ChangeType :: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>ChangeType<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\nFullPath ::&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>FullPath<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\nOld FileName :: &quot;</span><span class="token operator">+</span> e<span class="token punctuation">.</span>OldName<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\n\\n&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The <code>RenamedEventArgs</code> provides two more properties in addition to <code>FileSystemEventArgs</code>.</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td>OldFullPath</td><td>Gets the previous fully-qualified path of the affected file or directory.</td></tr><tr><td>OldName</td><td>Gets the old name of the affected file or directory.</td></tr></tbody></table><p><strong>You can monitor your File System in the following ways</strong>:</p><ul><li>Outside the application through creating, dropping and renaming files &amp; Directories.</li><li>From the application through creating and dropping files &amp; directories.</li></ul><h2 id="making-changes-outside-the-application" tabindex="-1"><a class="header-anchor" href="#making-changes-outside-the-application" aria-hidden="true">#</a> Making Changes Outside the Application</h2><h3 id="watching-changes-on-local-directories" tabindex="-1"><a class="header-anchor" href="#watching-changes-on-local-directories" aria-hidden="true">#</a> Watching Changes on Local Directories</h3><p>The following screenshot shows how FileSystemWatcher component watches changes when a directory is created under root directory of d drive of <code>192.168.1.6</code> local system. Two events are raised i.e., <code>Created</code> and <code>Renamed</code> when you create a directory from the outside of the application.</p><p><img src="`+u+'" alt="img_1"></p><p>You can watch the changes when a word document is created as shows in the following screenshot. The events called when a new document is created are <code>Created</code>, <code>Changed</code> and <code>Renamed</code>.</p><p><img src="'+d+'" alt="img_2"></p><h3 id="watching-changes-on-network-directories" tabindex="-1"><a class="header-anchor" href="#watching-changes-on-network-directories" aria-hidden="true">#</a> Watching Changes on Network Directories</h3><p>You can also watch changes for network directories. The following screenshot shows you how it monitors for network drive. Three events are raised i.e. <code>Created (twice)</code>, <code>Deleted</code> and <code>Renamed</code>, when you create a directory on a network directory.</p><p><img src="'+h+'" alt="img_3"></p><h4 id="making-changes-within-the-application" tabindex="-1"><a class="header-anchor" href="#making-changes-within-the-application" aria-hidden="true">#</a> Making Changes within the Application</h4><p>You can watch the changes from the Application straight away by creating and dropping files &amp; directories by using <code>Directory</code> and <code>File</code> Classes</p><p>The following screenshot shows you how to a create directory.</p><p><img src="'+A+`" alt="img_4"></p><p>The CreateDir Form uses CreateDir.cs file for creating a directory from the application.</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateDir</span><span class="token punctuation">:</span><span class="token type-list"><span class="token class-name">Form</span></span>
<span class="token punctuation">{</span>
    <span class="token operator">--</span>
    <span class="token operator">--</span>
    <span class="token keyword">public</span> <span class="token function">CreateDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token operator">--</span><span class="token operator">--</span>
        <span class="token operator">--</span><span class="token operator">-</span>
        <span class="token comment">//Event Handler for Calling btnAddDir</span>
        procedure btnAddDir<span class="token punctuation">.</span>Click <span class="token operator">+=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">EventHandler</span><span class="token punctuation">(</span>btnAddDir_Click<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">--</span><span class="token operator">--</span>
        <span class="token operator">--</span><span class="token operator">-</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//Event for Creating Directory</span>
    <span class="token keyword">protected</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">btnAddDir_Click</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> Sender<span class="token punctuation">,</span> <span class="token class-name">EventArgs</span> e<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//Getting path from mypath property</span>
        <span class="token class-name"><span class="token keyword">string</span></span> dir <span class="token operator">=</span> myPath <span class="token operator">+</span> <span class="token string">&quot;\\\\&quot;</span> <span class="token operator">+</span> txtDir<span class="token punctuation">.</span>Text<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>txtDir<span class="token punctuation">.</span>Text <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//Checks for directory</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Directory<span class="token punctuation">.</span><span class="token function">Exists</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">try</span>
                <span class="token punctuation">{</span>
                    Directory<span class="token punctuation">.</span><span class="token function">CreateDirectory</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">Hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment">//Exception raises if security violated</span>
                <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> CrDir<span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    MessageBox<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span>CrDir<span class="token punctuation">.</span>Message<span class="token punctuation">,</span><span class="token string">&quot;Error Creating Directory&quot;</span><span class="token punctuation">,</span> MessageBoxButtons<span class="token punctuation">.</span>OK<span class="token punctuation">,</span> MessageBoxIcon<span class="token punctuation">.</span>Exclamation<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">Hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                MessageBox<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span>dir <span class="token operator">+</span> <span class="token string">&quot; Directory already Exists&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Directory Creation Error&quot;</span><span class="token punctuation">,</span> MessageBoxButtons<span class="token punctuation">.</span>OK<span class="token punctuation">,</span> MessageBoxIcon<span class="token punctuation">.</span>Stop<span class="token punctuation">)</span><span class="token punctuation">;</span>
                txtDir<span class="token punctuation">.</span><span class="token function">Focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                SendKeys<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span><span class="token string">&quot;{HOME}+{END}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            MessageBox<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token string">&quot;Please Enter Directory Name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Directory Creation Error&quot;</span><span class="token punctuation">,</span> MessageBoxButtons<span class="token punctuation">.</span>OK<span class="token punctuation">,</span> MessageBoxIcon<span class="token punctuation">.</span>Information<span class="token punctuation">)</span><span class="token punctuation">;</span>
            txtDir<span class="token punctuation">.</span><span class="token function">Focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>After creation of directory, created event will be raised and you can see the effect in the following screenshot.</p><p><img src="`+k+'" alt="img_5"></p><p>Likewise, other options available are <code>Create New File</code>, <code>Delete File</code> and <code>Delete Directory</code>. This allows you to watch the changes straight away from the application itself.</p><p>If you are not having appropriate permissions i.e. standard permissions for accessing files and directories, then errors will be raised through exception handling. In the following screenshot, I&#39;m trying to access the network directory <code>\\\\kareem\\c\\</code> and prone to the following errors.</p><p><img src="'+m+'" alt="img_6"></p><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion" aria-hidden="true">#</a> Conclusion</h2><p>Finally, I conclude that <code>FileSystemWatcher</code> class is so efficient to watch any kind of changes on a specified directory. Using this class, we can write different kind of applications such as mailing your admin as soon as your directory is tampered.</p><p><strong>Happy NET Programming</strong>...</p><hr>',59),v=n("strong",null,"About the Author:",-1),b={href:"http://www.c-sharpcorner.com/3/mailto:mokhtarb@rediffmail.com",target:"_blank",rel:"noopener noreferrer"},F=n("hr",null,null,-1),S=n("hr",null,null,-1),W={id:"monitoring-file-system-using-filesystemwatcher-class-part-1",tabindex:"-1"},x=n("a",{class:"header-anchor",href:"#monitoring-file-system-using-filesystemwatcher-class-part-1","aria-hidden":"true"},"#",-1),E={href:"https://www.c-sharpcorner.com/article/monitoring-file-system-using-filesystemwatcher-class-part1/",target:"_blank",rel:"noopener noreferrer"},q=t(`<blockquote><p>Mokhtar B Mokhtar B Dec 29, 2005</p></blockquote><h3 id="abstract" tabindex="-1"><a class="header-anchor" href="#abstract" aria-hidden="true">#</a> Abstract</h3><p>If any one is experimenting your important directory without your notice, then you may think of an application, which helps you to monitor the changes of your directory. Earlier, writing this kind of application is too difficult, but with .NET you can do it through a simple and flexible component i.e. FileSystemWatcher, which watches your directory for any change using .NET. In this article, I am explaining you how to use FileSystemWatcher class in Part 1. In part 2, a sample application, which helps you to monitor a specified directory.</p><h3 id="introduction-1" tabindex="-1"><a class="header-anchor" href="#introduction-1" aria-hidden="true">#</a> Introduction</h3><p>FileSystemWatcher is a very powerful component, which allows us to connect to the directories and watch for specific changes within them, such as creation of new files, addition of subdirectories and renaming of files or subdirectories. This makes it possible to easily detect when certain files or directories are created, modified or deleted. It is one of the members of System.IO namespace.</p><p>The FileSystemWatcher component is designed to watch for changes within the directory, not to changes to the directory&#39;s attributes themselves. For example, if you are watching a directory called c:\\Mydir, the component will monitor changes within the directory but not changes to the directory itself.</p><p>The component can watch files on a local computer, network drive or a remote machine. FileSystemWatcher only works on Windows NT 4.0 and Windows 2000. You cannot watch a remote Windows NT 4.0 computer from a Windows NT 4.0 Computer. But, you can watch a remote Win2000 and local WinNT 4.0 and vice versa. Also you can watch a remote Win2000 and Win2000.</p><h3 id="requirements" tabindex="-1"><a class="header-anchor" href="#requirements" aria-hidden="true">#</a> Requirements</h3><p>For the code in this article you will need:</p><p>Windows NT 4.0 or Windows 2000<br> NET Framework Beta 2<br> A text editor, such as Notepad, Text pad or Visual Studio .NET Beta2.</p><h3 id="configuring-filesystemwatcher-class" tabindex="-1"><a class="header-anchor" href="#configuring-filesystemwatcher-class" aria-hidden="true">#</a> Configuring FileSystemWatcher Class</h3><p>To configure an instance of the FileSystemWatcher component,</p><ul><li>Create an instance of the FileSystemWatcher component.</li><li>Configure necessary properties and methods for the component.</li><li>Create Handlers for FileSystem Events.</li></ul><h3 id="creating-filesystemwatcher-component-instances" tabindex="-1"><a class="header-anchor" href="#creating-filesystemwatcher-component-instances" aria-hidden="true">#</a> Creating FileSystemWatcher Component Instances</h3><p>To create an instance of the FileSystemWatcher component use one of the following:</p><h4 id="example" tabindex="-1"><a class="header-anchor" href="#example" aria-hidden="true">#</a> Example</h4><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token comment">//Intializes a new instance of the FileSystemWatcher Class</span>
<span class="token class-name">FileSystemWatcher</span> myWatcher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemWatcher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Intializes a new instance with a Path property</span>
<span class="token class-name">FileSystemWatcher</span> myWatcher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemWatcher</span><span class="token punctuation">(</span><span class="token string">&quot;c:\\\\&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Intializes a new instance along with a Path and Filter properties</span>
<span class="token class-name">FileSystemWatcher</span> myWatcher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemWatcher</span><span class="token punctuation">(</span><span class="token string">&quot;c:\\\\&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;*.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The component will not watch the specified directory until the Path is set, and EnableRaisingEvents is true. If you are using Visual Studio.NET, the FileSystemWatcher class is readily available in the Toolbox under the Components Tab and you can directly drag and drop the FileSystemWatcher class and EnableRaisingEvents is true by default.</p><h4 id="properties" tabindex="-1"><a class="header-anchor" href="#properties" aria-hidden="true">#</a> Properties</h4><p>There are several properties you set for your FileSystemWatcher component instances to determine how they behave. These properties determine what directories and subdirectories the component instance will monitor and the exact occurrences within those directories that will raise events.</p><ul><li><code>Path</code> - Sets or Gets the Path of the directory to watch.</li><li><code>EnableRaisingEvents</code> - Enable or disable the component.</li><li><code>Filter</code> - Gets or sets the filter string, used to determine what files are monitored in a directory. Default value is (<em>.</em>)</li><li><code>IncludeSubdirectories</code> - Enables or disables including subdirectories to be watched.</li><li><code>InternalBufferSize</code> - Gets or sets the size of internal buffer. Default is 8K.</li><li><code>NotifyFilter</code> - Gets or sets the type of changes to watch for.</li></ul><h3 id="specifying-directories-to-watch" tabindex="-1"><a class="header-anchor" href="#specifying-directories-to-watch" aria-hidden="true">#</a> Specifying Directories to Watch</h3><p>To specify what directories to be watched, Path and IncludeSubdirectories properties are used.</p><p>The Path property indicates the fully qualified path of the root directory you want to watch. This can be in standard directory notation(c:\\directory) or in UNC format (\\server\\directory).</p><h4 id="example-1" tabindex="-1"><a class="header-anchor" href="#example-1" aria-hidden="true">#</a> Example</h4><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name">FileSystemWatcher</span> myWatcher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemWatcher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MyWatcher<span class="token punctuation">.</span>Path <span class="token operator">=</span> <span class="token string">&quot;c:\\\\&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>The IncludeSubdirectories property indicates whether subdirectories within the root directory should be monitored. If the property is set to true, the component watches for the same changes in the subdirectories as it does in the main directory the component is watching.</p><h4 id="specifying-the-changes-to-watch" tabindex="-1"><a class="header-anchor" href="#specifying-the-changes-to-watch" aria-hidden="true">#</a> Specifying the Changes to Watch</h4><p>Set Filter property to an empty string (&quot;&quot;) to watch for changes in all files. To watch a specific file, set the Filter property to the file name say &quot;samp.txt&quot;. You can also watch for changes in a certain type of file. For example, to watch for changes in document files, set the Filter property to &quot;*.doc&quot;.</p><p>FileSystemWatcher class does not ignore hidden files. Setting the Filter does not decrease what goes into the buffer.</p><p>By setting NotifyFilter property to one of the NotifyFilters values, you can track several types of changes such as changes in Attributes, the LastWrite date and time, or the Size of files or directories or when security access to a file or directory rights changes. These values are all part of the NotifyFilters enumeration. You can set multiple changes to watch for by using &quot;|&quot; operator.</p><h3 id="notifyfilters-enumeration" tabindex="-1"><a class="header-anchor" href="#notifyfilters-enumeration" aria-hidden="true">#</a> NotifyFilters enumeration</h3><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>Attributes</td><td>The attributes of the file or folder.</td></tr><tr><td>CreationTime</td><td>The time the file or folder was created.</td></tr><tr><td>DirectoryName</td><td>The name of the directory.</td></tr><tr><td>FileName</td><td>The name of the file.</td></tr><tr><td>LastAccess</td><td>The date the file or folder was last opened.</td></tr><tr><td>LastWrite</td><td>The date the file or folder last had anything written to it.</td></tr><tr><td>Security</td><td>The security settings of the file or folder.</td></tr><tr><td>Size</td><td>The size of the file or folder.</td></tr></tbody></table><h4 id="example-2" tabindex="-1"><a class="header-anchor" href="#example-2" aria-hidden="true">#</a> Example</h4><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name">FileSystemWatcher</span> myWatcher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemWatcher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myWatcher<span class="token punctuation">.</span>Path <span class="token operator">=</span> <span class="token string">&quot;c:\\\\&quot;</span><span class="token punctuation">;</span>
myWatcher<span class="token punctuation">.</span>Filter <span class="token operator">=</span> <span class="token string">&quot;*.txt&quot;</span><span class="token punctuation">;</span>
myWatcher<span class="token punctuation">.</span>EnableRaisingEvents <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
myWatcher<span class="token punctuation">.</span>IncludeSubdirectories <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
myWatcher<span class="token punctuation">.</span>NotifyFilter <span class="token operator">=</span> NotifyFilters<span class="token punctuation">.</span>LastWrite <span class="token operator">|</span> NotifyFilters<span class="token punctuation">.</span>Size<span class="token punctuation">;</span>
</code></pre></div><p>Your FileSystemWatcher component has the potential to receive an enormous number of events, particularly if you have set it to watch a very high-traffic directory. This can cause problems, as the FileSystemWatcher component can only receive event notifications at a manageable rate. The system notifies the component of file changes, it stores those changes in a buffer the component creates and passes to the Win32 Application Programming Interfaces (APIs). If there are many changes in a short time, the buffer can overflow. This causes the component to lose track of changes in the directory, and it will only provide &quot;blanket&quot; notification and the component will raise an exception. Default size is 4KB, you can increase the buffer size using InternalBufferSize, but increasing the size of the buffer is expensive, as it comes from non-paged memory that cannot be swapped out to disk, so keep the buffer as small as possible. A 4 KB buffer can track changes on approximately 80 files in a directory. Each event takes up 16 bytes in the buffer, plus enough bytes to store the name of the file, in Unicode (2 bytes per character), that the event occurred on. You can use this information to approximate the buffer size you will need.</p><p>To avoid a buffer overflow, use the NotifyFilter and IncludeSubdirectories properties so you can filter out unwanted change notifications.</p><h3 id="methods" tabindex="-1"><a class="header-anchor" href="#methods" aria-hidden="true">#</a> Methods</h3><p>In addition to using the FileSystemWatcher component to immediately monitor a specific directory, you can use the WaitForChanged method to wait until a specific event occurs and then continue with execution of the thread. For example, if you are working with a Web-based news application, you might create an admin portion of the site where users upload their news stories. You could use the WaitForChanged method to watch that directory until the last access date changes, and then begin processing the news directory for new articles.</p><p>You specify the type of change to watch for by setting the value of a WatcherChangeType enumeration. The possible values are as follows:</p><table><thead><tr><th>Member Name</th><th>Description</th></tr></thead><tbody><tr><td>All</td><td>The creation, deletion, change, or renaming of a file or folder.</td></tr><tr><td>Changed</td><td>The change of a file or folder. The types of changes include: changes to size, attributes, security settings, last write, and last access time.</td></tr><tr><td>Created</td><td>The creation of a file or folder.</td></tr><tr><td>Deleted</td><td>The deletion of a file or folder.</td></tr><tr><td>Renamed</td><td>The renaming of a file or folder.</td></tr></tbody></table><p>WaitForChanged is a synchronous method that returns an object of type WaitForChangedResult. This class contain specific information on the type of change that occurred in the directory. You can access information such as Name, OldName, and TimedOut on this object to find out more about the change. TimeOut is the time (in milliseconds) to wait before timing out.</p><p>If you use it in a Windows Form application, the application would stop responding if the method was used on the UI thread instead of the worker thread.</p><p>The following code track for all the changes.</p><h4 id="example-3" tabindex="-1"><a class="header-anchor" href="#example-3" aria-hidden="true">#</a> Example</h4><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token number">1</span><span class="token punctuation">)</span>myWatcher<span class="token punctuation">.</span><span class="token function">WaitForChanged</span><span class="token punctuation">(</span>WatcherChangeType<span class="token punctuation">.</span>All<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//wait for one second before timing out</span>
<span class="token number">2</span><span class="token punctuation">)</span>myWatcher<span class="token punctuation">.</span><span class="token function">WaitForChanged</span><span class="token punctuation">(</span>WatcherChangeType<span class="token punctuation">.</span>All<span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="creating-handler-for-filesystem-events" tabindex="-1"><a class="header-anchor" href="#creating-handler-for-filesystem-events" aria-hidden="true">#</a> Creating Handler for FileSystem Events</h3><p>The FileSystemWatcher Component raises four events depending on the types of changes that occur in the directory it is watching. These events are</p><ul><li>Created - raised whenever a directory or file is created.</li><li>Deleted - raised whenever a directory or file is deleted.</li><li>Renamed - raised whenever the name of a directory or file is changed.</li><li>Changed - raised whenever changes are made to the size, system attributes, last write time, last access time or NTFS security permissions of a directory or file.</li></ul><p>To access these events, you have to define handlers that automatically call methods in your code when a change occurs. To create a handler, use the following code:</p><h4 id="example-4" tabindex="-1"><a class="header-anchor" href="#example-4" aria-hidden="true">#</a> Example</h4><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token comment">//Handler for Changed Event</span>
myWatcher<span class="token punctuation">.</span>Changed <span class="token operator">+=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemHandler</span><span class="token punctuation">(</span>myWatcher_Changed<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Handler for Created Event</span>
myWatcher<span class="token punctuation">.</span>Created <span class="token operator">+=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemHandler</span><span class="token punctuation">(</span>myWatcher_Created<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Handler for Deleted Event</span>
myWatcher<span class="token punctuation">.</span>Deleted <span class="token operator">+=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemHandler</span><span class="token punctuation">(</span>myWatcher_Deleted<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Handler for Renamed Event</span>
myWatcher<span class="token punctuation">.</span>Renamed <span class="token operator">+=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RenamedEventHandler</span><span class="token punctuation">(</span>myWatcher_Renamed<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Although some common occurances, such as copying or moving a file, do not correspond directly to an event, these occurances do cause events to be raised. When you copy a file, the system raises a Created event in the directory to which the file was copied but does not raise any events in the original directory. When you move a file, the server raises two events: a Deleted event in the source directory, followed by a Created event in the target directory.</p><p>For example, you create two instances of FileSystemWatcher. FileSystemWatcher1 is set to watch &quot;C:\\My Documents&quot;, and FileSystemWatcher2 is set to watch &quot;C:\\Your Documents&quot;. Now, if you copy a file from &quot;My Documents&quot; into &quot;Your Documents&quot;, a Created event will be raised by FileSystemWatcher2, but no event is raised for FileSystemWatcher1. Unlike copying, moving a file or directory would raise two events. From the previous example, if you moved a file from &quot;My Documents&quot; to &quot;Your Documents&quot;, a Created event would be raised by FileSystemWatcher2 and a Deleted event would be raised by FileSystemWatcher1.</p>`,54);function I(C,T){const s=p("ExternalLinkIcon");return c(),i("div",null,[f,n("p",null,[a("In "),n("a",g,[a("Part 1"),e(s)]),a(", we have seen how to use FileSystemWatcher class. Today I' m giving an example to monitor your file system.")]),w,n("p",null,[v,a(" He is working as ASP/VB Programmer at Adsoft Solutions Pvt. Ltd, Bangalore, India. His Skills include ASP, VB, MS-SQL Server, COM/DCOM, MTS, ADSI, MSMQ, XML, PHP and PERL. Presently, he is updating to .Net Technologies. You can reach him through "),n("a",b,[a("mokhtar"),e(s)]),a(".")]),F,S,n("h2",W,[x,a(),n("a",E,[a("Monitoring File System using FileSystemWatcher Class - Part 1"),e(s)])]),q])}const M=o(y,[["render",I],["__file","folder13.html.vue"]]);export{M as default};
