import{_ as o,r as c,o as p,c as r,b as s,d as a,e,a as t}from"./app-d9da1b6d.js";const i="data:image/png;base64,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",l="/steven-blogs/assets/test_ocr_image-110f7d50.png",A={},d=t('<h1 id="简单的截图识别功能" tabindex="-1"><a class="header-anchor" href="#简单的截图识别功能" aria-hidden="true">#</a> 简单的截图识别功能</h1><h2 id="背景" tabindex="-1"><a class="header-anchor" href="#背景" aria-hidden="true">#</a> 背景</h2><p>有时候我们在看电子书的时候，尤其是不能复制的那种，想做笔记的时候的一个一个的敲，就显得比较麻烦。我在网上找了一下关于一些识别文字的，整理了一份简单的供自己使用的截图识别文字的小程序。</p><h2 id="准备" tabindex="-1"><a class="header-anchor" href="#准备" aria-hidden="true">#</a> 准备</h2>',4),u={href:"https://github.com/tesseract-ocr/tesseract",target:"_blank",rel:"noopener noreferrer"},k={href:"https://tesseract-ocr.github.io/tessdoc/Downloads.html",target:"_blank",rel:"noopener noreferrer"},g=s("p",null,"安装完可查看，安装的信息",-1),m=s("div",{class:"language-cmd","data-ext":"cmd"},[s("pre",{class:"language-cmd"},[s("code",null,`    C:\\Program Files\\Tesseract-OCR>tesseract
    Usage:
    tesseract --help | --help-extra | --version
    tesseract --list-langs
    tesseract imagename outputbase [options...] [configfile...]

    OCR options:
    -l LANG[+LANG]        Specify language(s) used for OCR.
    NOTE: These options must occur before any configfile.

    Single options:
    --help                Show this help message.
    --help-extra          Show extra help for advanced users.
    --version             Show version information.
    --list-langs          List available languages for tesseract engine.

    C:\\Program Files\\Tesseract-OCR>tesseract --list-langs
    List of available languages in "C:\\Program Files\\Tesseract-OCR/tessdata/" (4):
    eng
    osd
`)])],-1),h={start:"2"},f={href:"https://github.com/tesseract-ocr/tessdata",target:"_blank",rel:"noopener noreferrer"},b={href:"https://raw.githubusercontent.com/tesseract-ocr/tessdata/main/chi_sim.traineddata",target:"_blank",rel:"noopener noreferrer"},v={href:"https://raw.githubusercontent.com/tesseract-ocr/tessdata/main/chi_sim_vert.traineddata",target:"_blank",rel:"noopener noreferrer"},R=s("p",null,[a("将下载好的包放到 "),s("code",null,"C:\\Program Files\\Tesseract-OCR\\tessdata"),a(" 安装 "),s("code",null,"Tesseract-OCR"),a(" 下的 "),s("code",null,"tessdata"),a(" 目录里，在控制台可以再次查看 "),s("code",null,"tesseract --list-langs")],-1),w=s("div",{class:"language-cmd","data-ext":"cmd"},[s("pre",{class:"language-cmd"},[s("code",null,`C:\\Program Files\\Tesseract-OCR>tesseract --list-langs
List of available languages in "C:\\Program Files\\Tesseract-OCR/tessdata/" (4):
chi_sim
chi_sim_vert
eng
osd
`)])],-1),Z=s("li",null,[s("p",null,"python 包")],-1),x=t(`<div class="language-cmd" data-ext="cmd"><pre class="language-cmd"><code>    pip install Pillow
    pip install pytesseract
</code></pre></div><blockquote><p>特别提醒：有报错的话需要调整一个地方 修改 <code>pytesseract</code> （这个是我的包的目录 <code>F:\\Python\\Vens\\base\\Lib\\site-packages\\pytesseract\\pytesseract.py</code>） 包中 <code>pytesseract.py</code> 中 <code>tesseract_cmd</code> 的路径到自己安装 <code>Tesseract-OCR</code> 的目录， <code>tesseract_cmd = r&#39;C:\\Program Files\\Tesseract-OCR\\tesseract.exe&#39;</code></p></blockquote><h2 id="代码" tabindex="-1"><a class="header-anchor" href="#代码" aria-hidden="true">#</a> 代码</h2><div class="language-python" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token punctuation">,</span> ImageGrab
<span class="token keyword">import</span> pytesseract

<span class="token keyword">class</span> <span class="token class-name">Languages</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    CHS <span class="token operator">=</span> <span class="token string">&#39;chi_sim&#39;</span>
    ENG <span class="token operator">=</span> <span class="token string">&#39;eng&#39;</span>

<span class="token keyword">def</span> <span class="token function">img_to_str</span><span class="token punctuation">(</span>image_path<span class="token punctuation">,</span> lang<span class="token operator">=</span>Languages<span class="token punctuation">.</span>ENG<span class="token punctuation">)</span><span class="token punctuation">:</span>
    im2 <span class="token operator">=</span> ImageGrab<span class="token punctuation">.</span>grabclipboard<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 获取截图文件,不要直接使用这个文件，会提示文件格式不正确，先保存成png格式的</span>
    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>im2<span class="token punctuation">,</span> Image<span class="token punctuation">.</span>Image<span class="token punctuation">)</span><span class="token punctuation">:</span>
        im2<span class="token punctuation">.</span>save<span class="token punctuation">(</span>image_path<span class="token punctuation">)</span>

    content <span class="token operator">=</span> pytesseract<span class="token punctuation">.</span>image_to_string<span class="token punctuation">(</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>image_path<span class="token punctuation">)</span><span class="token punctuation">,</span> lang<span class="token punctuation">)</span> <span class="token comment"># 获取截图文件</span>
    result <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
    <span class="token keyword">for</span> x <span class="token keyword">in</span> content<span class="token punctuation">:</span>
        result <span class="token operator">+=</span> x<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> result

<span class="token keyword">print</span><span class="token punctuation">(</span>img_to_str<span class="token punctuation">(</span><span class="token string">&#39;OCRImages/1.png&#39;</span><span class="token punctuation">,</span> lang<span class="token operator">=</span>Languages<span class="token punctuation">.</span>CHS<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>文件目录：</p><p><img src="`+i+'" alt="folder_info"></p><h2 id="测试" tabindex="-1"><a class="header-anchor" href="#测试" aria-hidden="true">#</a> 测试</h2><p>测试图片：</p><p><img src="'+l+`" alt="test_ocr_image"></p><p>result：</p><div class="language-cmd" data-ext="cmd"><pre class="language-cmd"><code>(base) F:\\Python\\code&gt;python testOCR.py
抽象工厂创建相关的对象家
族,而不需要依赖它们的具
体类。

依赖倒置原则,指导我们避
免依赖具体类型,而要尽量
依糊抽象。

工厂是很有姚力的技巧,帮
助我们针对抽象编程,而不
要针对具体类编程。
</code></pre></div><h2 id="后记" tabindex="-1"><a class="header-anchor" href="#后记" aria-hidden="true">#</a> 后记</h2><p>如果自己本地用就这样了，要是做是在好一点的可以将这个封装一个API，然后 网页也能调用，客户端也能调用，这样也能用的很广泛。缺点就是这个的识别度还是有些低。</p>`,13);function y(C,T){const n=c("ExternalLinkIcon");return p(),r("div",null,[d,s("ol",null,[s("li",null,[a("OCR（optical character recognition）相关 使用google的开源的框架"),s("a",u,[a("github tesseract-ocr"),e(n)]),a("，都已经弄好了，试了下基本上识别率还行，就先用这个了。 "),s("a",k,[a("tesseract-ocr下载地址"),e(n)]),a("，在下载页面按照自己的系统下载就行了。")])]),g,m,s("ol",h,[s("li",null,[s("p",null,[a("OCR 语言包 OCR中文语言包下载"),s("a",f,[a("github语言包"),e(n)])]),s("p",null,[a("找到简体中文的两个文件，有想要下载其他语言包的自行下载 "),s("a",b,[a("chi_sim.traineddata"),e(n)]),s("a",v,[a("chi_sim_vert.traineddata"),e(n)])]),R,w]),Z]),x])}const O=o(A,[["render",y],["__file","20220601OCR.html.vue"]]);export{O as default};
