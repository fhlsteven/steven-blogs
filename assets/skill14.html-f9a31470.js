import{_ as a,o as e,c as n,a as s}from"./app-a2b6e588.js";const t={},o=s(`<h1 id="几个c-技巧" tabindex="-1"><a class="header-anchor" href="#几个c-技巧" aria-hidden="true">#</a> 几个C#技巧</h1><blockquote><p>作者： 不详 时间： 2004-2-6 阅读： 18 次 来源： 不详</p></blockquote><h2 id="技巧1" tabindex="-1"><a class="header-anchor" href="#技巧1" aria-hidden="true">#</a> 技巧1</h2><p><code>AppDomain.CurrentDomain.BaseDirectory</code>相当于<code>App.Path</code></p><h2 id="技巧2" tabindex="-1"><a class="header-anchor" href="#技巧2" aria-hidden="true">#</a> 技巧2</h2><p>如果需要在字符串末尾增加回车换行，应该是：<code>s = s + &quot;\\r\\n&quot;;</code>而不是： <code>s = s + &quot;\\n\\r&quot;;</code> 次序将影响s在TextBox中的显示。</p><h2 id="技巧3" tabindex="-1"><a class="header-anchor" href="#技巧3" aria-hidden="true">#</a> 技巧3</h2><p>在C#中，有一些提供静态方法的类，这些类可以不用实例化直接调用其方法，就像全局函数一样。这样的类有：<code>Application</code>、<code>File</code>、<code>MessageBox</code>、<code>DialogResult</code>等等。比如：<code>b=File.Exists(FilePath);</code></p><h2 id="技巧4" tabindex="-1"><a class="header-anchor" href="#技巧4" aria-hidden="true">#</a> 技巧4</h2><p>C#中没有VB那样的Beep语句。</p><h2 id="技巧5" tabindex="-1"><a class="header-anchor" href="#技巧5" aria-hidden="true">#</a> 技巧5</h2><p>不再是ListBox.Style，而是另外一种Control: CheckedListBox。</p><h2 id="技巧6" tabindex="-1"><a class="header-anchor" href="#技巧6" aria-hidden="true">#</a> 技巧6</h2><p>DataType of DataColumn</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name">DataColumn</span> dcID<span class="token punctuation">;</span>
dcID<span class="token punctuation">.</span>DataType<span class="token operator">=</span>System<span class="token punctuation">.</span>Type<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token string">&quot;System.String&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr><h2 id="技巧1-1" tabindex="-1"><a class="header-anchor" href="#技巧1-1" aria-hidden="true">#</a> 技巧1</h2><p>正向查找：<code>i=s.indexOf(substr[,startindex]);</code></p><p>逆向查找：<code>i=s.lastIndexOf(substr[,startindex]);</code></p><p>注意大小写：last不是Last</p><h2 id="技巧2-1" tabindex="-1"><a class="header-anchor" href="#技巧2-1" aria-hidden="true">#</a> 技巧2</h2><p>KeyPress事件中判断KeyCode <code>if(e.KeyChar == (char)13) e.Handled=true;</code></p><p>或者</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>KeyChar <span class="token operator">==</span> System<span class="token punctuation">.</span>Windows<span class="token punctuation">.</span>Forms<span class="token punctuation">.</span>Keys<span class="token punctuation">.</span>Return<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    e<span class="token punctuation">.</span>Handled<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="技巧3-1" tabindex="-1"><a class="header-anchor" href="#技巧3-1" aria-hidden="true">#</a> 技巧3</h2><p>KeyPress事件中一般会处理参数e中键值，处理完毕，应：<code>e.Handled = true;</code>否则可能会有beep一声。原来VB中将键值设为0的办法已经行不通了。</p><h2 id="技巧4-1" tabindex="-1"><a class="header-anchor" href="#技巧4-1" aria-hidden="true">#</a> 技巧4</h2><p>Numeric Format Strings</p><div class="language-csharp" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">double</span></span> d <span class="token operator">=</span> <span class="token number">123.456</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> s <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">&quot;#,##0.00;(#,##0.00)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="技巧5-1" tabindex="-1"><a class="header-anchor" href="#技巧5-1" aria-hidden="true">#</a> 技巧5</h2><p>如果觉得VSS与IDE绑定比较好，而想要在细节操作方面更加方便，可以在Tools/Options/Source Control选项中设定，例如在CheckIn时维持CheckOut状态等。</p><p>如果觉得VSS与IDE绑定不太好，想要解开绑定，也很简单：File/Source Control/Change Source Control Unbind几次就行了。</p><h2 id="技巧6-1" tabindex="-1"><a class="header-anchor" href="#技巧6-1" aria-hidden="true">#</a> 技巧6</h2><p>定义一个对象变量时，建议先给一个null初值，例如：XmlDocument a = null;否则，在 finally 等子句中可能编译出错，错误信息是“使用了unassigned的变量”。</p><h2 id="技巧7" tabindex="-1"><a class="header-anchor" href="#技巧7" aria-hidden="true">#</a> 技巧7</h2><p>字符串的<code>.Trim()</code>方法可以将空格和回车一并去掉。</p><h2 id="技巧8" tabindex="-1"><a class="header-anchor" href="#技巧8" aria-hidden="true">#</a> 技巧8</h2><p>除了代码编辑窗口中的字体之外，Solution Explorer等窗格中的字体也可以通过Options的Fonts and Colors进行设置，方法是选择Show Settings for为Dialogs and Tool Windows,默认的宋体9号不如Verdana 8号字体美观。</p><h2 id="技巧9" tabindex="-1"><a class="header-anchor" href="#技巧9" aria-hidden="true">#</a> 技巧9</h2><p>连接两个字符串的操作，在C#中是+。但是要注意：不同类型的数据不能直接用+串，事先应使用.ToString()转换为字符串，如：<code>dt.Rows[0].ItemArray[0].ToString() + dt.Rows[0].ItemArray[01]</code></p><h2 id="技巧10" tabindex="-1"><a class="header-anchor" href="#技巧10" aria-hidden="true">#</a> 技巧10</h2><p>Queued Components这种部件支持异步调用，客户端不用等服务器马上响应，也许可以用来实现Run MRP这样的操作：远程发送“开始运行”命令，完毕用另外一种方式通知。</p><h2 id="技巧11" tabindex="-1"><a class="header-anchor" href="#技巧11" aria-hidden="true">#</a> 技巧11</h2><p>不用定义对象就可调用的方法，可以用Modules来实现。</p><h2 id="技巧12" tabindex="-1"><a class="header-anchor" href="#技巧12" aria-hidden="true">#</a> 技巧12</h2><p>Default OK &amp; Cancel Button：对应于VB Form中的<code>CommandButton.Default</code>和<code>.Cancel</code>属性，WinForm中可在Form（而非Button）的属性中设置AcceptButton和CancelButton。</p><h2 id="技巧13" tabindex="-1"><a class="header-anchor" href="#技巧13" aria-hidden="true">#</a> 技巧13</h2><p>Unload me in C# <code>This.Close</code></p>`,48),c=[o];function p(r,d){return e(),n("div",null,c)}const h=a(t,[["render",p],["__file","skill14.html.vue"]]);export{h as default};
